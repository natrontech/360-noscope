package io.natron.noscope360.analyze.service;

import com.esri.core.geometry.Geometry;
import com.esri.core.geometry.SimpleGeometryCursor;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class GeometryServiceTest {

    private final GeometryService geometryService = new GeometryService();

    private static final String testRing = "{\"rings\":[[[635519.9,239719.6],[635499.7,239734.7],[635479.4,239751.2],[635462.6,239766.1],[635447.5,239780.5],[635403.5,239827.6],[635374.8,239857],[635359.3,239871.5],[635343.1,239885.6],[635309.7,239912.6],[635275.1,239936.9],[635256.9,239948.7],[635239.3,239959.3],[635202.4,239980.4],[635108.9,240030.3],[635073.5,240047.9],[635062.1,240054.8],[635049.4,240061.2],[634802.1,240194.5],[634784.4,240202.2],[634753.5,240212.2],[634732.8,240218.5],[634692.7,240229.4],[634671.6,240236.4],[634652.8,240246.6],[634646.4,240250.8],[634629.2,240263.9],[634601.8,240286.4],[634588.4,240299.7],[634575.8,240313.8],[634554.5,240341.3],[634544.1,240356.4],[634538.9,240366.7],[634534.1,240379.4],[634532.2,240390.6],[634531.4,240408],[634533.6,240423.6],[634540.5,240451.7],[634543.4,240468.2],[634543.2,240482.1],[634539.5,240496.7],[634537.2,240504.1],[634526.3,240525.3],[634517.7,240536.5],[634506.1,240547],[634493.8,240556],[634467.7,240570.2],[634454.3,240576.3],[634439.2,240581.5],[634421.7,240585.8],[634392.6,240591.5],[634373.7,240594.3],[634338.2,240601.7],[634302.3,240619.3],[634260.5,240639.8],[634322.6,240699.6],[634346,240720.4],[634399.3,240763.3],[634410.5,240773.9],[634423.6,240787.7],[634439.5,240805.9],[634452.9,240822.8],[634501.7,240888.4],[634523.3,240914.4],[634536.6,240928.5],[634551.7,240943.7],[634576.4,240968.6],[634588,240976.9],[634608.1,240988.5],[634646.1,241024.8],[634679.7,241039.4],[634689.4,241043.8],[634702.6,241053.2],[634712.6,241062.5],[634723.3,241074.5],[634737.6,241096.4],[634741.6,241114.7],[634738.6,241131],[634734.3,241144.1],[634730.8,241153.3],[634721.8,241187.4],[634666.5,241284.9],[634621.8,241327.9],[634612,241390.3],[634608.6,241404.5],[634600.2,241439],[634596.4,241458.3],[634592.7,241478.3],[634586.7,241516.6],[634582.5,241551.6],[634581.9,241582.8],[634584.7,241618.8],[634591.8,241667.6],[634600.2,241707],[634603,241726.2],[634611.8,241832.7],[634616.4,241869.5],[634622.9,241906.3],[634629,241931.9],[634638.4,241966.8],[634642.9,241980.6],[634654.6,242007.5],[634666.6,242031],[634703.7,242088.8],[634717.3,242114.1],[634761.3,242221.7],[634780.3,242261.8],[634791.6,242284.9],[634821.5,242341],[634846.4,242386],[634875.5,242438.4],[634908.1,242494.8],[634927.3,242524.9],[634939.7,242547.9],[634981.2,242624.9],[635005.4,242671.1],[635034.7,242726.6],[635068.3,242784.7],[635112.1,242857.4],[635128.9,242885.3],[635150.1,242919.3],[635179.8,242963.4],[635211.3,243001.6],[635270.5,243063.2],[635297,243090.3],[635370.2,243162.4],[635391.5,243186],[635420.9,243218.7],[635453.9,243267.4],[635459.9,243276.8],[635465.4,243286.5],[635470.5,243296.4],[635475.1,243306.5],[635479.7,243317],[635483.6,243327.8],[635486.8,243338.8],[635489.3,243350],[635491,243360.9],[635492,243372],[635492.4,243383.1],[635492,243394.2],[635491.7,243402],[635491.2,243409.8],[635490.4,243417.5],[635489.3,243425.3],[635488.1,243431.9],[635486.8,243438.4],[635485.3,243445],[635483.6,243451.4],[635457.3,243535],[635496.8,243549.2],[635500.5,243550.5],[635516.2,243556.2],[635520.5,243547.7],[635533.9,243541.1],[635542.3,243537.1],[635560.5,243528.2],[635562.3,243517.5],[635566.2,243494.9],[635573.6,243451.5],[635575,243449.6],[635576.1,243448.1],[635600.2,243414.8],[635602.2,243412],[635621.9,243384.8],[635672.6,243314.9],[635715.9,243255.3],[635763.8,243216.7],[635829.2,243164.1],[636067,242972.7],[636246.1,242827.8],[636234.8,242812.7],[636202.3,242763.2],[636154.7,242687.5],[636143.6,242654.3],[636140.4,242617.7],[636142.5,242581.4],[636154.2,242548.1],[636172.4,242504.8],[636205.4,242468.7],[636235,242444.9],[636267.4,242429.7],[636354.8,242433.3],[636391.1,242432.7],[636438.4,242423.3],[636463.9,242418.7],[636491.3,242397.3],[636532.3,242374.9],[636558.6,242355.7],[636599,242336.1],[636627.6,242317.8],[636659.7,242285.4],[636638.4,242246.9],[636628.6,242222.1],[636615.3,242177],[636615.9,242154.1],[636621.6,242144.6],[636655.8,242123.6],[636691.7,242128],[636742.6,242130.2],[636772.3,242126.3],[636793.9,242139],[636869.9,242143.5],[636895.3,242157.9],[636917.9,242166.3],[636933.1,242165.6],[636893.8,242108.6],[636875.9,242081],[636876.3,242023.4],[636859.1,241984.1],[636829.7,241992.3],[636798.5,241991.8],[636776.3,241987.7],[636766.2,241975.4],[636717.4,241961.8],[636663.8,241944.2],[636647.2,241928.7],[636598.4,241914.1],[636533.1,241899.1],[636447.2,241882.3],[636418,241887.9],[636360.7,241867.6],[636351.7,241874.1],[636302.5,241881.7],[636258,241892.4],[636167.5,241912.1],[636166.6,241838.2],[636165.2,241761.9],[636163.3,241686.6],[636164.8,241614.7],[636163.2,241565.3],[636159.2,241531.8],[636157,241506.5],[636154.8,241472.4],[636132.8,241464.3],[636095.2,241448.8],[636050.3,241435.6],[635907.7,241405],[635852.8,241385.6],[635784.9,241203.6],[635728.4,241202.5],[635733.8,241099.9],[635730.5,241026.5],[635737.2,240964.8],[635787.8,240911.5],[635697.7,240559.2],[635719.2,240547.6],[635726.6,240546.9],[635758.8,240528.4],[635803,240505.4],[635813.6,240500.5],[635821.1,240495.7],[635833,240485.6],[635843.2,240473.6],[635847.3,240463.4],[635857.1,240446.2],[635880.4,240417.7],[635901.4,240384],[635905.5,240379.7],[635925.6,240366.8],[635931.9,240358.5],[635943.2,240341.9],[635947.5,240324.8],[635950.9,240317.7],[635952.7,240316.5],[635968.2,240310.1],[636075.8,240268.7],[636083.9,240266.2],[636103.5,240259.1],[636130.6,240261.7],[636132.7,240259.2],[636131.5,240258.2],[636119.7,240255],[636092.1,240245.9],[636057.7,240224.7],[636009.8,240202.2],[635997.1,240195.5],[635985,240188],[635958.3,240175.5],[635927.9,240155.6],[635920.9,240149.5],[635919.1,240151.5],[635915.4,240148.1],[635917.2,240146.2],[635912.9,240141.8],[635909.3,240138.9],[635801.6,239987.3],[635810.9,239980.7],[635774.8,239931.9],[635768.7,239922.5],[635760.1,239913.7],[635757.3,239909.7],[635751.9,239900.9],[635748,239896.5],[635749.8,239894.7],[635746.3,239891.2],[635744.5,239893],[635737.6,239886.3],[635732.7,239882.2],[635723.9,239877.1],[635700,239857.4],[635690,239850],[635591.3,239772.3],[635547.1,239738.8],[635519.9,239719.6]]],\"spatialReference\":{\"wkid\":21781}}";
    private static final String testRing2 = "{\"rings\":[[[635519.9,239719.6],[635499.7,239734.7],[635479.4,239751.2],[635462.6,239766.1],[635447.5,239780.5],[635403.5,239827.6],[635374.8,239857],[635359.3,239871.5],[635343.1,239885.6],[635309.7,239912.6],[635275.1,239936.9],[635256.9,239948.7],[635239.3,239959.3],[635202.4,239980.4],[635108.9,240030.3],[635073.5,240047.9],[635062.1,240054.8],[635049.4,240061.2],[634802.1,240194.5],[634784.4,240202.2],[634753.5,240212.2],[634732.8,240218.5],[634692.7,240229.4],[634671.6,240236.4],[634652.8,240246.6],[634646.4,240250.8],[634629.2,240263.9],[634601.8,240286.4],[634588.4,240299.7],[634575.8,240313.8],[634554.5,240341.3],[634544.1,240356.4],[634538.9,240366.7],[634534.1,240379.4],[634532.2,240390.6],[634531.4,240408],[634533.6,240423.6],[634540.5,240451.7],[634543.4,240468.2],[634543.2,240482.1],[634539.5,240496.7],[634537.2,240504.1],[634526.3,240525.3],[634517.7,240536.5],[634506.1,240547],[634493.8,240556],[634467.7,240570.2],[634454.3,240576.3],[634439.2,240581.5],[634421.7,240585.8],[634392.6,240591.5],[634373.7,240594.3],[634338.2,240601.7],[634302.3,240619.3],[634260.5,240639.8],[634322.6,240699.6],[634346,240720.4],[634399.3,240763.3],[634410.5,240773.9],[634423.6,240787.7],[634439.5,240805.9],[634452.9,240822.8],[634501.7,240888.4],[634523.3,240914.4],[634536.6,240928.5],[634551.7,240943.7],[634576.4,240968.6],[634588,240976.9],[634608.1,240988.5],[634646.1,241024.8],[634679.7,241039.4],[634689.4,241043.8],[634702.6,241053.2],[634712.6,241062.5],[634723.3,241074.5],[634737.6,241096.4],[634741.6,241114.7],[634738.6,241131],[634734.3,241144.1],[634730.8,241153.3],[634721.8,241187.4],[634666.5,241284.9],[634621.8,241327.9],[634612,241390.3],[634608.6,241404.5],[634600.2,241439],[634596.4,241458.3],[634592.7,241478.3],[634586.7,241516.6],[634582.5,241551.6],[634581.9,241582.8],[634584.7,241618.8],[634591.8,241667.6],[634600.2,241707],[634603,241726.2],[634611.8,241832.7],[634616.4,241869.5],[634622.9,241906.3],[634629,241931.9],[634638.4,241966.8],[634642.9,241980.6],[634654.6,242007.5],[634666.6,242031],[634703.7,242088.8],[634717.3,242114.1],[634761.3,242221.7],[634780.3,242261.8],[634791.6,242284.9],[634821.5,242341],[634846.4,242386],[634875.5,242438.4],[634908.1,242494.8],[634927.3,242524.9],[634939.7,242547.9],[634981.2,242624.9],[635005.4,242671.1],[635034.7,242726.6],[635068.3,242784.7],[635112.1,242857.4],[635128.9,242885.3],[635150.1,242919.3],[635179.8,242963.4],[635211.3,243001.6],[635270.5,243063.2],[635297,243090.3],[635370.2,243162.4],[635391.5,243186],[635420.9,243218.7],[635453.9,243267.4],[635459.9,243276.8],[635465.4,243286.5],[635470.5,243296.4],[635475.1,243306.5],[635479.7,243317],[635483.6,243327.8],[635486.8,243338.8],[635489.3,243350],[635491,243360.9],[635492,243372],[635492.4,243383.1],[635492,243394.2],[635491.7,243402],[635491.2,243409.8],[635490.4,243417.5],[635489.3,243425.3],[635488.1,243431.9],[635486.8,243438.4],[635485.3,243445],[635483.6,243451.4],[635457.3,243535],[635496.8,243549.2],[635500.5,243550.5],[635516.2,243556.2],[635520.5,243547.7],[635533.9,243541.1],[635542.3,243537.1],[635560.5,243528.2],[635562.3,243517.5],[635566.2,243494.9],[635573.6,243451.5],[635575,243449.6],[635576.1,243448.1],[635600.2,243414.8],[635602.2,243412],[635621.9,243384.8],[635672.6,243314.9],[635715.9,243255.3],[635763.8,243216.7],[635829.2,243164.1],[636067,242972.7],[636246.1,242827.8],[636234.8,242812.7],[636202.3,242763.2],[636154.7,242687.5],[636143.6,242654.3],[636140.4,242617.7],[636142.5,242581.4],[636154.2,242548.1],[636172.4,242504.8],[636205.4,242468.7],[636235,242444.9],[636267.4,242429.7],[636354.8,242433.3],[636391.1,242432.7],[636438.4,242423.3],[636463.9,242418.7],[636491.3,242397.3],[636532.3,242374.9],[636558.6,242355.7],[636599,242336.1],[636627.6,242317.8],[636659.7,242285.4],[636638.4,242246.9],[636628.6,242222.1],[636615.3,242177],[636615.9,242154.1],[636621.6,242144.6],[636655.8,242123.6],[636691.7,242128],[636742.6,242130.2],[636772.3,242126.3],[636793.9,242139],[636869.9,242143.5],[636895.3,242157.9],[636917.9,242166.3],[636933.1,242165.6],[636893.8,242108.6],[636875.9,242081],[636876.3,242023.4],[636859.1,241984.1],[636829.7,241992.3],[636798.5,241991.8],[636776.3,241987.7],[636766.2,241975.4],[636717.4,241961.8],[636663.8,241944.2],[636647.2,241928.7],[636598.4,241914.1],[636533.1,241899.1],[636447.2,241882.3],[636418,241887.9],[636360.7,241867.6],[636351.7,241874.1],[636302.5,241881.7],[636258,241892.4],[636167.5,241912.1],[636166.6,241838.2],[636165.2,241761.9],[636163.3,241686.6],[636164.8,241614.7],[636163.2,241565.3],[636159.2,241531.8],[636157,241506.5],[636154.8,241472.4],[636132.8,241464.3],[636095.2,241448.8],[636050.3,241435.6],[635907.7,241405],[635852.8,241385.6],[635784.9,241203.6],[635728.4,241202.5],[635733.8,241099.9],[635730.5,241026.5],[635737.2,240964.8],[635787.8,240911.5],[635697.7,240559.2],[635719.2,240547.6],[635726.6,240546.9],[635758.8,240528.4],[635803,240505.4],[635813.6,240500.5],[635821.1,240495.7],[635833,240485.6],[635843.2,240473.6],[635847.3,240463.4],[635857.1,240446.2],[635880.4,240417.7],[635901.4,240384],[635905.5,240379.7],[635925.6,240366.8],[635931.9,240358.5],[635943.2,240341.9],[635947.5,240324.8],[635950.9,240317.7],[635952.7,240316.5],[635968.2,240310.1],[636075.8,240268.7],[636083.9,240266.2],[636103.5,240259.1],[636130.6,240261.7],[636132.7,240259.2],[636131.5,240258.2],[636119.7,240255],[636092.1,240245.9],[636057.7,240224.7],[636009.8,240202.2],[635997.1,240195.5],[635985,240188],[635958.3,240175.5],[635927.9,240155.6],[635920.9,240149.5],[635919.1,240151.5],[635915.4,240148.1],[635917.2,240146.2],[635912.9,240141.8],[635909.3,240138.9],[635801.6,239987.3],[635810.9,239980.7],[635774.8,239931.9],[635768.7,239922.5],[635760.1,239913.7],[635757.3,239909.7],[635751.9,239900.9],[635748,239896.5],[635749.8,239894.7],[635746.3,239891.2],[635744.5,239893],[635737.6,239886.3],[635732.7,239882.2],[635723.9,239877.1],[635700,239857.4],[635690,239850],[635591.3,239772.3],[635547.1,239738.8],[635519.9,239719.6]]],\"spatialReference\":{\"wkid\":21781}}";
    private static final String testRing3 = "{\"rings\":[[[635519.9,239719.6],[635499.7,239734.7],[625379.4,239751.2],[625462.6,239766.1],[1005447.5,239780.5],[635403.5,239827.6],[635374.8,239857],[635359.3,239871.5],[635343.1,239885.6],[635309.7,239912.6],[635275.1,239936.9],[635256.9,239948.7],[635239.3,239959.3],[635202.4,239980.4],[635108.9,240030.3],[635073.5,240047.9],[635062.1,240054.8],[635049.4,240061.2],[634802.1,240194.5],[634784.4,240202.2],[634753.5,240212.2],[634732.8,240218.5],[634692.7,240229.4],[634671.6,240236.4],[634652.8,240246.6],[634646.4,240250.8],[634629.2,240263.9],[634601.8,240286.4],[634588.4,240299.7],[634575.8,240313.8],[634554.5,240341.3],[634544.1,240356.4],[634538.9,240366.7],[634534.1,240379.4],[634532.2,240390.6],[634531.4,240408],[634533.6,240423.6],[634540.5,240451.7],[634543.4,240468.2],[634543.2,240482.1],[634539.5,240496.7],[634537.2,240504.1],[634526.3,240525.3],[634517.7,240536.5],[634506.1,240547],[634493.8,240556],[634467.7,240570.2],[634454.3,240576.3],[634439.2,240581.5],[634421.7,240585.8],[634392.6,240591.5],[634373.7,240594.3],[634338.2,240601.7],[634302.3,240619.3],[634260.5,240639.8],[634322.6,240699.6],[634346,240720.4],[634399.3,240763.3],[634410.5,240773.9],[634423.6,240787.7],[634439.5,240805.9],[634452.9,240822.8],[634501.7,240888.4],[634523.3,240914.4],[634536.6,240928.5],[634551.7,240943.7],[634576.4,240968.6],[634588,240976.9],[634608.1,240988.5],[634646.1,241024.8],[634679.7,241039.4],[634689.4,241043.8],[634702.6,241053.2],[634712.6,241062.5],[634723.3,241074.5],[634737.6,241096.4],[634741.6,241114.7],[634738.6,241131],[634734.3,241144.1],[634730.8,241153.3],[634721.8,241187.4],[634666.5,241284.9],[634621.8,241327.9],[634612,241390.3],[634608.6,241404.5],[634600.2,241439],[634596.4,241458.3],[634592.7,241478.3],[634586.7,241516.6],[634582.5,241551.6],[634581.9,241582.8],[634584.7,241618.8],[634591.8,241667.6],[634600.2,241707],[634603,241726.2],[634611.8,241832.7],[634616.4,241869.5],[634622.9,241906.3],[634629,241931.9],[634638.4,241966.8],[634642.9,241980.6],[634654.6,242007.5],[634666.6,242031],[634703.7,242088.8],[634717.3,242114.1],[634761.3,242221.7],[634780.3,242261.8],[634791.6,242284.9],[634821.5,242341],[634846.4,242386],[634875.5,242438.4],[634908.1,242494.8],[634927.3,242524.9],[634939.7,242547.9],[634981.2,242624.9],[635005.4,242671.1],[635034.7,242726.6],[635068.3,242784.7],[635112.1,242857.4],[635128.9,242885.3],[635150.1,242919.3],[635179.8,242963.4],[635211.3,243001.6],[635270.5,243063.2],[635297,243090.3],[635370.2,243162.4],[635391.5,243186],[635420.9,243218.7],[635453.9,243267.4],[635459.9,243276.8],[635465.4,243286.5],[635470.5,243296.4],[635475.1,243306.5],[635479.7,243317],[635483.6,243327.8],[635486.8,243338.8],[635489.3,243350],[635491,243360.9],[635492,243372],[635492.4,243383.1],[635492,243394.2],[635491.7,243402],[635491.2,243409.8],[635490.4,243417.5],[635489.3,243425.3],[635488.1,243431.9],[635486.8,243438.4],[635485.3,243445],[635483.6,243451.4],[635457.3,243535],[635496.8,243549.2],[635500.5,243550.5],[635516.2,243556.2],[635520.5,243547.7],[635533.9,243541.1],[635542.3,243537.1],[635560.5,243528.2],[635562.3,243517.5],[635566.2,243494.9],[635573.6,243451.5],[635575,243449.6],[635576.1,243448.1],[635600.2,243414.8],[635602.2,243412],[635621.9,243384.8],[635672.6,243314.9],[635715.9,243255.3],[635763.8,243216.7],[635829.2,243164.1],[636067,242972.7],[636246.1,242827.8],[636234.8,242812.7],[636202.3,242763.2],[636154.7,242687.5],[636143.6,242654.3],[636140.4,242617.7],[636142.5,242581.4],[636154.2,242548.1],[636172.4,242504.8],[636205.4,242468.7],[636235,242444.9],[636267.4,242429.7],[636354.8,242433.3],[636391.1,242432.7],[636438.4,242423.3],[636463.9,242418.7],[636491.3,242397.3],[636532.3,242374.9],[636558.6,242355.7],[636599,242336.1],[636627.6,242317.8],[636659.7,242285.4],[636638.4,242246.9],[636628.6,242222.1],[636615.3,242177],[636615.9,242154.1],[636621.6,242144.6],[636655.8,242123.6],[636691.7,242128],[636742.6,242130.2],[636772.3,242126.3],[636793.9,242139],[636869.9,242143.5],[636895.3,242157.9],[636917.9,242166.3],[636933.1,242165.6],[636893.8,242108.6],[636875.9,242081],[636876.3,242023.4],[636859.1,241984.1],[636829.7,241992.3],[636798.5,241991.8],[636776.3,241987.7],[636766.2,241975.4],[636717.4,241961.8],[636663.8,241944.2],[636647.2,241928.7],[636598.4,241914.1],[636533.1,241899.1],[636447.2,241882.3],[636418,241887.9],[636360.7,241867.6],[636351.7,241874.1],[636302.5,241881.7],[636258,241892.4],[636167.5,241912.1],[636166.6,241838.2],[636165.2,241761.9],[636163.3,241686.6],[636164.8,241614.7],[636163.2,241565.3],[636159.2,241531.8],[636157,241506.5],[636154.8,241472.4],[636132.8,241464.3],[636095.2,241448.8],[636050.3,241435.6],[635907.7,241405],[635852.8,241385.6],[635784.9,241203.6],[635728.4,241202.5],[635733.8,241099.9],[635730.5,241026.5],[635737.2,240964.8],[635787.8,240911.5],[635697.7,240559.2],[635719.2,240547.6],[635726.6,240546.9],[635758.8,240528.4],[635803,240505.4],[635813.6,240500.5],[635821.1,240495.7],[635833,240485.6],[635843.2,240473.6],[635847.3,240463.4],[635857.1,240446.2],[635880.4,240417.7],[635901.4,240384],[635905.5,240379.7],[635925.6,240366.8],[635931.9,240358.5],[635943.2,240341.9],[635947.5,240324.8],[635950.9,240317.7],[635952.7,240316.5],[635968.2,240310.1],[636075.8,240268.7],[636083.9,240266.2],[636103.5,240259.1],[636130.6,240261.7],[636132.7,240259.2],[636131.5,240258.2],[636119.7,240255],[636092.1,240245.9],[636057.7,240224.7],[636009.8,240202.2],[635997.1,240195.5],[635985,240188],[635958.3,240175.5],[635927.9,240155.6],[635920.9,240149.5],[635919.1,240151.5],[635915.4,240148.1],[635917.2,240146.2],[635912.9,240141.8],[635909.3,240138.9],[635801.6,239987.3],[635810.9,239980.7],[635774.8,239931.9],[635768.7,239922.5],[635760.1,239913.7],[635757.3,239909.7],[635751.9,239900.9],[635748,239896.5],[635749.8,239894.7],[635746.3,239891.2],[635744.5,239893],[635737.6,239886.3],[635732.7,239882.2],[635723.9,239877.1],[635700,239857.4],[635690,239850],[635591.3,239772.3],[635547.1,239738.8],[635519.9,239719.6]]],\"spatialReference\":{\"wkid\":21781}}";

    @Test
    void jsonToGeometry() {

        Geometry result = geometryService.jsonToGeometry(testRing);
        assertNotNull(result);
    }

    @Test
    void testIntersection() {

        Geometry area1 = geometryService.jsonToGeometry(testRing);
        Geometry area2 = geometryService.jsonToGeometry(testRing2);

        double intersection = geometryService.intersection(new SimpleGeometryCursor(area1), new SimpleGeometryCursor(area2));

        System.out.println(intersection);

        Geometry area3 = geometryService.jsonToGeometry(testRing3);

        intersection = geometryService.intersection(new SimpleGeometryCursor(area1), new SimpleGeometryCursor(area3));

        System.out.println(intersection);
    }
}